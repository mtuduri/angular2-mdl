{"version":3,"file":"mdl-tabs.component.js","sourceRoot":"","sources":["../../../src/lib/components/tabs/mdl-tabs.component.ts"],"names":[],"mappings":"AAAA,OAAO,EACL,SAAS,EACT,eAAe,EACf,SAAS,EAET,KAAK,EACL,MAAM,EACN,YAAY,EAGZ,iBAAiB,GAClB,MAAM,eAAe,CAAC;AACvB,OAAO,EAAE,SAAS,EAAE,MAAM,4BAA4B,CAAC;AACvD,OAAO,EAAE,QAAQ,EAAE,MAAM,2BAA2B,CAAC;AACrD,OAAO,EAAE,oBAAoB,EAAE,MAAM,2BAA2B,CAAC;AAEjE;IAAA;QA8BU,mBAAc,GAAW,CAAC,CAAC;QAK3B,cAAS,GAAG,KAAK,CAAC;QAKe,uBAAkB,GAAG,IAAI,YAAY,EAAE,CAAC;IA4CnF,CAAC;IArDC,sBACI,2CAAa;aADjB,cACsB,OAAO,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;aACnD,UAAkB,KAAK,IAAI,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;;;OADhB;IAInD,sBACI,sCAAQ;aADZ,cACiB,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;aACzC,UAAa,KAAK,IAAI,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;;;OADjB;IAOlC,6CAAkB,GAAzB;QAAA,iBAQC;QAPC,mBAAmB;QACnB,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC9B,8EAA8E;QAC9E,kDAAkD;QAClD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAE;YAC3B,KAAI,CAAC,sBAAsB,EAAE,CAAC;QAChC,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,sCAAW,GAAlB,UAAmB,OAAsB;QACvC,IAAK,OAAO,CAAC,eAAe,CAAC,EAAG;YAC9B,IAAI,CAAC,sBAAsB,EAAE,CAAC;SAC/B;IACH,CAAC;IAEO,iDAAsB,GAA9B;QAAA,iBAUC;QATC,IAAK,IAAI,CAAC,IAAI,EAAG;YACf,iDAAiD;YACjD,sGAAsG;YACtG,UAAU,CAAE;gBACV,KAAI,CAAC,IAAI,CAAC,OAAO,CAAE,UAAC,GAAG,EAAE,GAAG;oBAC1B,GAAG,CAAC,QAAQ,GAAG,KAAI,CAAC,aAAa,KAAK,GAAG,CAAC;gBAC5C,CAAC,CAAC,CAAC;YACL,CAAC,EAAE,CAAC,CAAC,CAAC;SACP;IACH,CAAC;IAEM,sCAAW,GAAlB,UAAmB,GAAyB;QAC1C,IAAI,GAAG,CAAC,QAAQ,EAAE;YAChB,OAAO;SACR;QAED,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAC7C,IAAI,KAAK,IAAI,IAAI,CAAC,aAAa,EAAE;YAC/B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3B,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC9B,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,IAAI,CAAC,aAAa,EAAC,CAAC,CAAC;SAC3D;IACH,CAAC;;gBAnFF,SAAS,SAAC;oBACT,QAAQ,EAAE,UAAU;oBACpB,IAAI,EAAE;wBACJ,kBAAkB,EAAE,MAAM;wBAC1B,qBAAqB,EAAE,MAAM;qBAC9B;oBACD,QAAQ,EACR,6xBAkBC;oBACD,aAAa,EAAE,iBAAiB,CAAC,IAAI;iBACtC;;;gCAIE,KAAK,SAAC,sBAAsB;2BAK5B,KAAK,SAAC,YAAY;qCAIlB,MAAM,SAAC,wBAAwB;uBAE/B,eAAe,SAAC,oBAAoB;;IA0CvC,uBAAC;CAAA,AApFD,IAoFC;SAxDY,gBAAgB","sourcesContent":["import {\n  Component,\n  ContentChildren,\n  QueryList,\n  AfterContentInit,\n  Input,\n  Output,\n  EventEmitter,\n  OnChanges,\n  SimpleChanges,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { toBoolean } from '../common/boolean-property';\nimport { toNumber } from '../common/number.property';\nimport { MdlTabPanelComponent } from './mdl-tab-panel.component';\n\n@Component({\n  selector: 'mdl-tabs',\n  host: {\n    '[class.mdl-tabs]': 'true',\n    '[class.is-upgraded]': 'true'\n  },\n  template:\n  `\n   <div class=\"mdl-tabs__tab-bar\">\n      <div *ngFor=\"let tab of tabs.toArray()\">\n        <div\n          *ngIf=\"tab.titleComponent\"\n          class=\"mdl-tabs__tab\"\n          (click)=\"tabSelected(tab)\"\n          [mdl-ripple]=\"isRipple && !tab.disabled\"\n          [ngClass]=\"{'is-active': tab.isActive, 'disabled': tab.disabled}\"\n          [append-view-container-ref]=\"tab.titleComponent.vcRef\"></div>\n        <a *ngIf=\"!tab.titleComponent\" href=\"javascript:void(0)\"\n              (click)=\"tabSelected(tab)\"\n              class=\"mdl-tabs__tab\"\n              [mdl-ripple]=\"isRipple && !tab.disabled\"\n              [ngClass]=\"{'is-active': tab.isActive, 'disabled': tab.disabled}\">{{tab.title}}</a>\n       </div>\n  </div>\n  <ng-content></ng-content>\n  `,\n  encapsulation: ViewEncapsulation.None\n})\nexport class MdlTabsComponent implements AfterContentInit, OnChanges {\n\n  private _selectedIndex: number = 0;\n  @Input('mdl-tab-active-index')\n  get selectedIndex() { return this._selectedIndex; }\n  set selectedIndex(value) { this._selectedIndex = toNumber(value); }\n\n  private _isRipple = false;\n  @Input('mdl-ripple')\n  get isRipple() { return this._isRipple; }\n  set isRipple(value) { this._isRipple = toBoolean(value); }\n\n  @Output('mdl-tab-active-changed') public selectedTabEmitter = new EventEmitter();\n\n  @ContentChildren(MdlTabPanelComponent) public tabs: QueryList<MdlTabPanelComponent>;\n\n  public ngAfterContentInit() {\n    // the initial tabs\n    this.updateSelectedTabIndex();\n    // listen to tab changes - this would not be necessary if this would be fixed:\n    // https://github.com/angular/angular/issues/12818\n    this.tabs.changes.subscribe( () => {\n      this.updateSelectedTabIndex();\n    });\n  }\n\n  public ngOnChanges(changes: SimpleChanges): any {\n    if ( changes['selectedIndex'] ) {\n      this.updateSelectedTabIndex();\n    }\n  }\n\n  private updateSelectedTabIndex() {\n    if ( this.tabs ) {\n      // https://github.com/angular/angular/issues/6005\n      // this would not be necessare if this would be fixed: https://github.com/angular/angular/issues/12818\n      setTimeout( () => {\n        this.tabs.forEach( (tab, idx) => {\n          tab.isActive = this.selectedIndex === idx;\n        });\n      }, 1);\n    }\n  }\n\n  public tabSelected(tab: MdlTabPanelComponent) {\n    if (tab.disabled) {\n      return;\n    }\n\n    let index = this.tabs.toArray().indexOf(tab);\n    if (index != this.selectedIndex) {\n      this.selectedIndex = index;\n      this.updateSelectedTabIndex();\n      this.selectedTabEmitter.emit({index: this.selectedIndex});\n    }\n  }\n}\n"]}