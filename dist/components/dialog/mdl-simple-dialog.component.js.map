{"version":3,"file":"mdl-simple-dialog.component.js","sourceRoot":"","sources":["../../../src/lib/components/dialog/mdl-simple-dialog.component.ts"],"names":[],"mappings":"AAAA,OAAO,EACL,SAAS,EACT,iBAAiB,EACjB,YAAY,EACZ,UAAU,EACV,MAAM,EACN,YAAY,EACZ,SAAS,EACV,MAAM,eAAe,CAAC;AACvB,OAAO,EACL,kBAAkB,EAClB,iBAAiB,EAClB,MAAM,sBAAsB,CAAC;AAK9B,OAAO,EAAE,kBAAkB,EAAE,MAAM,gCAAgC,CAAC;AAGpE;IAuBE,oFAAoF;IACpF,kCACuD,mBAAkD,EACjD,MAA0B;QAFlF,iBASC;QARsD,wBAAmB,GAAnB,mBAAmB,CAA+B;QACjD,WAAM,GAAN,MAAM,CAAoB;QAEhF,MAAM,CAAC,SAAS,EAAE,CAAC,SAAS,CAAE;YAC5B,IAAG,KAAI,CAAC,OAAO,EAAC;gBACd,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;aACrD;QACH,CAAC,CAAC,CAAA;IACJ,CAAC;IAEM,gDAAa,GAApB,UAAqB,MAAwB;QAC3C,MAAM,CAAC,OAAO,EAAE,CAAC;QACjB,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;IACrB,CAAC;IAGM,wCAAK,GADZ;QAEE,wDAAwD;QACxD,IAAI,WAAW,GAAG,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,IAAI,CAAE,UAAA,MAAM,IAAI,OAAA,MAAM,CAAC,eAAe,EAAtB,CAAsB,CAAC,CAAC;QAC3F,IAAI,WAAW,EAAE;YACf,WAAW,CAAC,OAAO,EAAE,CAAC;YACtB,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;SACpB;IACH,CAAC;;gBAhDF,SAAS,SAAC;oBACT,QAAQ,EAAE,sBAAsB;oBAChC,QAAQ,EAAE,upBAaT;oBACD,aAAa,EAAE,iBAAiB,CAAC,IAAI;iBAEtC;;;;gDAOI,MAAM,SAAC,UAAU,CAAE,cAAM,OAAA,iBAAiB,EAAjB,CAAiB,CAAC;gBAnC9C,kBAAkB,uBAoCf,MAAM,SAAC,UAAU,CAAE,cAAM,OAAA,kBAAkB,EAAlB,CAAkB,CAAC;;;0BAL9C,YAAY,SAAC,kBAAkB;wBAmB/B,YAAY,SAAC,aAAa;;IAU7B,+BAAC;CAAA,AAlDD,IAkDC;SA/BY,wBAAwB","sourcesContent":["import {\n  Component,\n  ViewEncapsulation,\n  HostListener,\n  forwardRef,\n  Inject,\n  ViewChildren,\n  QueryList\n} from '@angular/core';\nimport {\n  MdlDialogReference,\n  MDL_CONFIGUARTION\n} from './mdl-dialog.service';\nimport {\n  IMdlDialogAction,\n  IMdlSimpleDialogConfiguration\n} from './mdl-dialog-configuration';\nimport { MdlButtonComponent } from '../button/mdl-button.component';\n\n\n@Component({\n  selector: 'mdl-dialog-component',\n  template: `\n      <h3 class=\"mdl-dialog__title\" *ngIf=\"dialogConfiguration?.title\">{{dialogConfiguration?.title}}</h3>\n      <div class=\"mdl-dialog__content\" [innerHTML]=\"dialogConfiguration?.message\"></div>\n      <div \n        class=\"mdl-dialog__actions\" \n        [ngClass]=\"{'mdl-dialog__actions--full-width': dialogConfiguration?.fullWidthAction}\">\n        <button\n          mdl-button mdl-colored=\"primary\"\n          type=\"button\" \n          *ngFor=\"let action of dialogConfiguration?.actions\" \n          (click)=\"actionClicked(action)\"\n          [ngClass]=\"{'close': action.isClosingAction}\">{{action.text}}</button>\n      </div>\n  `,\n  encapsulation: ViewEncapsulation.None\n\n})\nexport class MdlSimpleDialogComponent {\n\n  @ViewChildren(MdlButtonComponent) public buttons: QueryList<MdlButtonComponent>;\n\n  // why do i need forwardRef at this point, the demo LoginDialog dosn't need this!?!?\n  constructor(\n    @Inject(forwardRef( () => MDL_CONFIGUARTION)) public dialogConfiguration: IMdlSimpleDialogConfiguration,\n    @Inject(forwardRef( () => MdlDialogReference)) public dialog: MdlDialogReference) {\n\n    dialog.onVisible().subscribe( () => {\n      if(this.buttons){\n        this.buttons.first.elementRef.nativeElement.focus();\n      }\n    })\n  }\n\n  public actionClicked(action: IMdlDialogAction) {\n    action.handler();\n    this.dialog.hide();\n  }\n\n  @HostListener('keydown.esc')\n  public onEsc(): void {\n    // run the first action that is marked as closing action\n    let closeAction = this.dialogConfiguration.actions.find( action => action.isClosingAction);\n    if (closeAction) {\n      closeAction.handler();\n      this.dialog.hide();\n    }\n  }\n\n}\n"]}