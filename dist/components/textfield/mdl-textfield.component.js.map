{"version":3,"file":"mdl-textfield.component.js","sourceRoot":"","sources":["../../../src/lib/components/textfield/mdl-textfield.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component,\n  forwardRef,\n  Input,\n  Renderer2,\n  ElementRef,\n  OnChanges,\n  DoCheck,\n  ViewChild,\n  NgModule,\n  Optional,\n  Inject,\n  EventEmitter,\n  Output,\n  ViewEncapsulation,\n  ModuleWithProviders,\n  SimpleChanges,\n  InjectionToken\n} from '@angular/core';\nimport {\n  NG_VALUE_ACCESSOR,\n  ControlValueAccessor\n} from '@angular/forms';\n\nimport { toBoolean } from '../common/boolean-property';\nimport { toNumber } from '../common/number.property';\nimport { MdlButtonModule } from '../button/mdl-button.component';\nimport { MdlIconModule } from '../icon/mdl-icon.component';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { noop } from '../common/noop';\nimport { callNative } from '../common/native-support';\n\nexport const DISABLE_NATIVE_VALIDITY_CHECKING = new InjectionToken<boolean>('disableNativeValidityChecking');\n\n\nlet nextId = 0;\n\nconst IS_FOCUSED = 'is-focused';\nconst IS_DISABLED = 'is-disabled';\nconst IS_INVALID = 'is-invalid';\nconst IS_DIRTY = 'is-dirty';\n\n@Component({\n  selector: 'mdl-textfield',\n  host: {\n    '[class.mdl-textfield]': 'true',\n    '[class.is-upgraded]': 'true',\n    '[class.mdl-textfield--expandable]': 'icon',\n    '[class.mdl-textfield--floating-label]': 'isFloatingLabel',\n    '[class.has-placeholder]': 'placeholder'\n  },\n  template: `\n   <div *ngIf=\"!icon\">\n     <textarea\n        *ngIf=\"rows\"\n        #input\n        [rows]=\"rows\"\n        class=\"mdl-textfield__input\"\n        type=\"text\"\n        [attr.name]=\"name\"\n        [id]=\"id\"\n        [placeholder]=\"placeholder ? placeholder : ''\"\n        (focus)=\"onFocus($event)\"\n        (blur)=\"onBlur($event)\"\n        (keydown)=\"keydownTextarea($event)\"\n        (keyup)=\"onKeyup($event)\"\n        [(ngModel)]=\"value\"\n        [disabled]=\"disabled\"\n        [required]=\"required\"\n        [autofocus]=\"autofocus\"\n        [readonly]=\"readonly\"\n        [maxlength]=\"maxlength\"\n        ></textarea>\n     <input\n        *ngIf=\"!rows\"\n        #input\n        class=\"mdl-textfield__input\"\n        [type]=\"type\"\n        [attr.name]=\"name\"\n        [id]=\"id\"\n        [pattern]=\"pattern ? pattern : '.*'\"\n        [attr.min]=\"min\"\n        [attr.max]=\"max\"\n        [attr.step]=\"step\"\n        [placeholder]=\"placeholder ? placeholder : ''\"\n        [autocomplete]=\"autocomplete ? autocomplete : ''\"\n        (focus)=\"onFocus($event)\"\n        (blur)=\"onBlur($event)\"\n        (keyup)=\"onKeyup($event)\"\n        [(ngModel)]=\"value\"\n        [disabled]=\"disabled\"\n        [required]=\"required\"\n        [autofocus]=\"autofocus\"\n        [readonly]=\"readonly\"\n        [attr.tabindex]=\"tabindex\"\n        [maxlength]=\"maxlength\"\n        >\n     <label class=\"mdl-textfield__label\" [attr.for]=\"id\">{{label}}</label>\n     <span class=\"mdl-textfield__error\">{{errorMessage}}</span>\n   </div>\n   <div *ngIf=\"icon\">\n      <button mdl-button mdl-button-type=\"icon\" (click)=\"setFocus()\">\n         <mdl-icon>{{icon}}</mdl-icon>\n      </button>\n      <div class=\"mdl-textfield__expandable-holder\">\n       <input\n          #input\n          class=\"mdl-textfield__input\"\n          [type]=\"type\"\n          [attr.name]=\"name\"\n          [id]=\"id\"\n          [pattern]=\"pattern ? pattern : '.*'\"\n          [attr.min]=\"min\"\n          [attr.max]=\"max\"\n          [attr.step]=\"step\"\n          [placeholder]=\"placeholder ? placeholder : ''\"\n          [autocomplete]=\"autocomplete ? autocomplete : ''\"\n          (focus)=\"onFocus($event)\"\n          (blur)=\"onBlur($event)\"\n          (keyup)=\"onKeyup($event)\"\n          [(ngModel)]=\"value\"\n          [disabled]=\"disabled\"\n          [required]=\"required\"\n          [autofocus]=\"autofocus\"\n          [readonly]=\"readonly\"\n          [attr.tabindex]=\"tabindex\"\n          [maxlength]=\"maxlength\"\n         >\n     <label class=\"mdl-textfield__label\" [attr.for]=\"id\">{{label}}</label>\n     <span class=\"mdl-textfield__error\">{{errorMessage}}</span>\n      </div>\n   </div>\n   `,\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => MdlTextFieldComponent),\n    multi: true\n  }],\n  encapsulation: ViewEncapsulation.None\n})\nexport class MdlTextFieldComponent implements ControlValueAccessor, OnChanges, DoCheck {\n  private value_: any;\n  private el: HTMLElement;\n\n  @Output('blur')\n  public blurEmitter: EventEmitter<FocusEvent> = new EventEmitter<FocusEvent>();\n\n  @Output('focus')\n  public focusEmitter: EventEmitter<FocusEvent> = new EventEmitter<FocusEvent>();\n\n  @Output('keyup')\n  public keyupEmitter: EventEmitter<KeyboardEvent> = new EventEmitter<KeyboardEvent>();\n\n  @ViewChild('input') public inputEl: ElementRef;\n\n  get value(): any { return this.value_; };\n  @Input() set value(v: any) {\n    this.value_ = this.type === 'number' ? ( v === '' ? null : parseFloat(v)) : v;\n    this.onChangeCallback(this.value);\n  }\n\n  @Input() public type = 'text';\n  @Input() public label;\n  @Input() public pattern;\n  @Input() public min;\n  @Input() public max;\n  @Input() public step;\n  @Input() public name;\n  @Input() public id = `mdl-textfield-${nextId++}`;\n  @Input('error-msg') public errorMessage;\n\n  private _disabled: boolean = false;\n  @Input()\n  get disabled(): boolean { return this._disabled; }\n  set disabled(value) { this._disabled = toBoolean(value); }\n\n  private _readonly: boolean = false;\n  @Input()\n  get readonly() { return this._readonly; }\n  set readonly(value) { this._readonly = toBoolean(value); }\n\n  private _required: boolean = false;\n  @Input()\n  get required() { return this._required; }\n  set required(value) { this._required = toBoolean(value); }\n\n  private _autofocus: boolean = false;\n  @Input()\n  get autofocus() { return this._autofocus; }\n  set autofocus(value) { this._autofocus = toBoolean(value); }\n\n  private _isFloatingLabel: boolean = false;\n  @Input('floating-label')\n  get isFloatingLabel() { return this._isFloatingLabel; }\n  set isFloatingLabel(value) { this._isFloatingLabel = toBoolean(value); }\n\n  @Input() public placeholder: string;\n  @Input() public autocomplete: string;\n\n  private _rows: number = null;\n  @Input()\n  get rows() { return this._rows; }\n  set rows(value) { this._rows = toNumber(value); }\n\n  private _maxrows: number = -1;\n  @Input()\n  get maxrows() { return this._maxrows; }\n  set maxrows(value) { this._maxrows = toNumber(value); }\n  @Input() public icon: string;\n\n  @Input() public tabindex: number = null;\n\n  @Input() public maxlength: number = null;\n\n\n  // @experimental\n  private _disableNativeValidityChecking: boolean = false;\n  @Input()\n  get disableNativeValidityChecking() { return this._disableNativeValidityChecking; }\n  set disableNativeValidityChecking(value) { this._disableNativeValidityChecking = toBoolean(value);}\n\n  constructor(\n    private renderer: Renderer2,\n    private elmRef: ElementRef,\n    @Optional() @Inject(DISABLE_NATIVE_VALIDITY_CHECKING) private nativeCheckGlobalDisabled: Boolean) {\n    this.el = elmRef.nativeElement;\n  }\n\n  public writeValue(value: any): void {\n    this.value_ = value;\n    this.checkDirty();\n  }\n\n  private onTouchedCallback: () => void = noop;\n  private onChangeCallback: (_: any) => void = noop;\n\n  public registerOnChange(fn: any): void {\n    this.onChangeCallback = fn;\n  }\n\n  public registerOnTouched(fn: any): void {\n    this.onTouchedCallback = fn;\n  }\n\n  public setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n\n  public ngOnChanges(changes: SimpleChanges) {\n    this.checkDisabled();\n  }\n\n  public ngDoCheck() {\n    this.checkValidity();\n    this.checkDirty();\n  }\n\n  public setFocus() {\n    if ( !this.inputEl ) {\n      return;\n    }\n    callNative(this.inputEl.nativeElement, 'focus');\n  }\n\n  protected onFocus(event: FocusEvent) {\n    this.renderer.addClass(this.el, IS_FOCUSED);\n    this.focusEmitter.emit(event);\n  }\n\n  protected onBlur(event: FocusEvent) {\n    this.renderer.removeClass(this.el, IS_FOCUSED);\n    this.onTouchedCallback();\n    this.blurEmitter.emit(event);\n  }\n\n  protected onKeyup(event: KeyboardEvent) {\n    this.keyupEmitter.emit(event);\n  }\n\n  private checkDisabled() {\n    if (this.disabled){\n      this.renderer.addClass(this.el, IS_DISABLED);\n    } else {\n      this.renderer.removeClass(this.el, IS_DISABLED);\n    }\n  }\n\n  private checkValidity() {\n    // check the global setting - if globally disabled do no check\n    if ( this.nativeCheckGlobalDisabled === true ) {\n      return;\n    }\n    // check local setting - if locally disabled do no check\n    if ( this.disableNativeValidityChecking ) {\n      return;\n    }\n    if (this.inputEl && this.inputEl.nativeElement.validity) {\n      if (!this.inputEl.nativeElement.validity.valid){\n        this.renderer.addClass(this.el, IS_INVALID);\n      } else {\n        this.renderer.removeClass(this.el, IS_INVALID);\n      }\n    }\n  }\n\n  private checkDirty() {\n    let dirty = this.inputEl && this.inputEl.nativeElement.value && this.inputEl.nativeElement.value.length > 0;\n    if (dirty){\n      this.renderer.addClass(this.el, IS_DIRTY);\n    } else {\n      this.renderer.removeClass(this.el, IS_DIRTY);\n    }\n\n  }\n\n  public keydownTextarea($event: KeyboardEvent) {\n    var currentRowCount = this.inputEl.nativeElement.value.split('\\n').length;\n    if ($event.keyCode === 13) {\n      if (currentRowCount >= this.maxrows && this.maxrows !== -1) {\n        $event.preventDefault();\n      }\n    }\n  }\n\n  // hm only for test purposes to simulate a change to the input field that will change the\n  // model value.\n  triggerChange(event: Event) {\n    this.value = (event.target as HTMLInputElement).value;\n    this.onTouchedCallback();\n  }\n}\n\n\n@NgModule({\n  imports: [MdlIconModule, MdlButtonModule, FormsModule, CommonModule],\n  exports: [MdlTextFieldComponent],\n  declarations: [MdlTextFieldComponent],\n})\nexport class MdlTextFieldModule {\n  public static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: MdlTextFieldModule,\n      providers: []\n    };\n  }\n}\n"]}