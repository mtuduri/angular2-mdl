{"version":3,"file":"mdl-table.component.js","sourceRoot":"","sources":["../../../src/lib/components/table/mdl-table.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,OAAO,EACL,SAAS,EACT,KAAK,EACL,MAAM,EACN,YAAY,EACZ,iBAAiB,EAClB,MAAM,eAAe,CAAC;AAoBvB;IAKE,8BAAY,OAA0B;QAF/B,SAAI,GAAyB,EAAE,CAAC;QAGrC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IACzB,CAAC;IAEM,qCAAM,GAAb,UAAc,IAA0B;;QACtC,CAAA,KAAA,IAAI,CAAC,IAAI,CAAA,CAAC,IAAI,WAAI,IAAI,EAAE;IAC1B,CAAC;IAEH,2BAAC;AAAD,CAAC,AAbD,IAaC;;AAGD,IAAM,QAAQ,GAAG,upCA2BZ,CAAC;AACN,IAAM,MAAM,GAAG;IACb,wDAIG;CACJ,CAAC;AAEF;IAAA;QAUS,eAAU,GAAG,KAAK,CAAC;IAC5B,CAAC;;gBAXA,SAAS,SAAC;oBACT,QAAQ,EAAE,WAAW;oBACrB,QAAQ,EAAE,QAAQ;oBAClB,MAAM,EAAE,MAAM;oBACd,aAAa,EAAE,iBAAiB,CAAC,IAAI;iBACtC;;;wBAGE,KAAK,SAAC,aAAa;;IAGtB,wBAAC;CAAA,AAXD,IAWC;SALY,iBAAiB;AAQ9B;IAMiD,+CAAiB;IANlE;QAAA,qEAkCC;QAxBgD,qBAAe,GAAG,IAAI,YAAY,EAAE,CAAC;QAE7E,gBAAU,GAAG,IAAI,CAAC;QAClB,iBAAW,GAAG,KAAK,CAAC;;IAqB7B,CAAC;IAnBQ,mDAAa,GAApB;QACE,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAE,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,QAAQ,EAAb,CAAa,CAAC,CAAC;IACvD,CAAC;IAES,+CAAS,GAAnB;QACE,IAAI,QAAQ,GAAG,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;QACrC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAE,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,QAAQ,GAAG,QAAQ,EAAxB,CAAwB,CAAC,CAAC;QAC3D,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAEO,oDAAc,GAAtB;QACE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAE,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,QAAQ,EAAb,CAAa,CAAC,CAAC;QAC/D,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,EAAC,CAAC,CAAC;IACpD,CAAC;IAES,sDAAgB,GAA1B,UAA2B,IAAI;QAC7B,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;;gBAhCF,SAAS,SAAC;oBACT,QAAQ,EAAE,sBAAsB;oBAChC,QAAQ,EAAE,QAAQ;oBAClB,MAAM,EAAE,MAAM;oBACd,aAAa,EAAE,iBAAiB,CAAC,IAAI;iBACtC;;;wBAGE,KAAK,SAAC,aAAa;2BACnB,KAAK,SAAC,sBAAsB;kCAC5B,MAAM,SAAC,8BAA8B;;IAwBxC,kCAAC;CAAA,AAlCD,CAMiD,iBAAiB,GA4BjE;SA5BY,2BAA2B","sourcesContent":["import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  ViewEncapsulation\n} from '@angular/core';\n\nexport interface IMdlTableColumn {\n  key: string;\n  name: string;\n  // @deprecated - was never supported\n  sortable?: boolean;\n  numeric?: boolean;\n}\n\nexport interface IMdlTableModelItem {\n  selected: boolean;\n}\n\nexport interface IMdlTableModel {\n\n  columns: IMdlTableColumn[];\n  data: IMdlTableModelItem[];\n}\n\nexport class MdlDefaultTableModel implements IMdlTableModel {\n\n  public columns: IMdlTableColumn[];\n  public data: IMdlTableModelItem[] = [];\n\n  constructor(columns: IMdlTableColumn[]) {\n    this.columns = columns;\n  }\n\n  public addAll(data: IMdlTableModelItem[]) {\n    this.data.push(...data);\n  }\n\n}\n\n\nconst template = `\n        <table class=\"mdl-data-table\">\n           <thead>\n           <tr>\n              <th *ngIf=\"selectable\">\n                 <mdl-checkbox mdl-ripple [ngModel]=\"isAllSelected()\" (ngModelChange)=\"toogleAll()\"></mdl-checkbox>\n              </th>\n              <th *ngFor=\"let column of model.columns\"\n                  [ngClass]=\"{'mdl-data-table__cell--non-numeric': !column.numeric}\">\n                 {{column.name}}\n              </th>\n           </tr>\n           </thead>\n           <tbody>\n           <tr *ngFor=\"let data of model.data; let i = index\" [ngClass]=\"{'is-selected': selectable && data.selected}\">\n              <td *ngIf=\"selectable\">\n                 <mdl-checkbox mdl-ripple\n                      [(ngModel)]=\"data.selected\"\n                      (ngModelChange)=\"selectionChanged(data)\"></mdl-checkbox>\n              </td>\n              <td *ngFor=\"let column of model.columns\"\n                  [ngClass]=\"{'mdl-data-table__cell--non-numeric': !column.numeric}\"\n                  [innerHTML]=\"data[column.key]\">\n              </td>\n           </tr>\n           </tbody>\n        </table>  \n    `;\nconst styles = [\n  `\n    :host{\n      display:inline-block;\n    }\n    `\n];\n\n@Component({\n  selector: 'mdl-table',\n  template: template,\n  styles: styles,\n  encapsulation: ViewEncapsulation.None\n})\nexport class MdlTableComponent {\n\n  @Input('table-model') public model: IMdlTableModel;\n\n  public selectable = false;\n}\n\n\n@Component({\n  selector: 'mdl-table-selectable',\n  template: template,\n  styles: styles,\n  encapsulation: ViewEncapsulation.None\n})\nexport class MdlSelectableTableComponent extends MdlTableComponent {\n\n  @Input('table-model') public model: IMdlTableModel;\n  @Input('table-model-selected') public selected: IMdlTableModelItem[];\n  @Output('table-model-selectionChanged') public selectionChange = new EventEmitter();\n\n  public selectable = true;\n  public allSelected = false;\n\n  public isAllSelected() {\n    return this.model.data.every( data => data.selected);\n  }\n\n  protected toogleAll() {\n    let selected = !this.isAllSelected();\n    this.model.data.forEach( data => data.selected = selected);\n    this.updateSelected();\n  }\n\n  private updateSelected() {\n    this.selected = this.model.data.filter( data => data.selected);\n    this.selectionChange.emit({value: this.selected});\n  }\n\n  protected selectionChanged(data) {\n    this.updateSelected();\n  }\n\n}\n"]}